{"version":3,"file":"static/webpack/static\\development\\pages\\Login.js.2455642341f250872edd.hot-update.js","sources":["webpack:///./pages/Login.js"],"sourcesContent":["import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport Link from \"next/link\";\r\nimport Router from \"next/router\";\r\nimport {\r\n  mudaNome,\r\n  mudaEmail,\r\n  mudaSenha,\r\n  entrar,\r\n  loginWithFacebook,\r\n  mudaNickName,\r\n  temApelido\r\n} from \"../config/actions/UserActions\";\r\nimport Template from \"./../components/Template\";\r\nimport { Modal, Button } from \"react-bootstrap\";\r\nimport Axios from \"axios\";\r\nimport { actionTypes } from \"../config/types\";\r\n\r\nclass Login extends React.Component {\r\n  static getInitialProps({ reduxStore, req }) {\r\n    const isServer = !!req;\r\n\r\n    return {};\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      show: false\r\n    };\r\n  }\r\n\r\n  handleClose() {\r\n    this.setState({ show: false });\r\n  }\r\n\r\n  handleShow() {\r\n    this.setState({ show: true });\r\n  }\r\n\r\n  componentDidMount()  {\r\n    \r\n    if (localStorage.getItem(\"authToken\")) {\r\n      Router.push(\"/\")\r\n      this.props.temApelido();\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {}\r\n\r\n  _entrar() {\r\n    const data = {\r\n      nome: this.props.nome,\r\n      email: this.props.email,\r\n      password: this.props.password\r\n    };\r\n\r\n    this.props.entrar(data);\r\n  }\r\n\r\n  render() {\r\n    if (this.props.show) {\r\n      //Router.push(\"/\");\r\n\r\n      return (\r\n        <Template>\r\n          <div className=\"container\">\r\n            <div className=\"row\">\r\n              <div className=\"col-sm-6\" style={{ margin: \"10% auto\" }}>\r\n                <h2>Escolha seu apelido!</h2>\r\n                <div className=\"form-group\">\r\n                  <label>Nickname</label>\r\n                  <input\r\n                    id=\"email\"\r\n                    className=\"form-control\"\r\n                    type=\"text\"\r\n                    onChange={e => this.props.mudaNickName(e.target.value)}\r\n                  />\r\n                </div>\r\n\r\n                <p style={{ textAlign: \"center\", color: \"red\" }}>\r\n                  {this.props.result}\r\n                </p>\r\n\r\n                <button className=\"btn btn-info\" onClick={() => this._entrar()}>\r\n                  Confirmar\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </Template>\r\n      );\r\n    }\r\n    return (\r\n      <Template>\r\n        <div className=\"container\">\r\n          <div className=\"row\">\r\n            <div className=\"col-sm-6\" style={{ margin: \"10% auto\" }}>\r\n              <div className=\"form-group\">\r\n                <label>E-mail</label>\r\n                <input\r\n                  id=\"email\"\r\n                  className=\"form-control\"\r\n                  type=\"text\"\r\n                  onChange={e => this.props.mudaEmail(e.target.value)}\r\n                />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label>Senha</label>\r\n                <input\r\n                  id=\"senha\"\r\n                  className=\"form-control\"\r\n                  type=\"password\"\r\n                  onChange={e => this.props.mudaSenha(e.target.value)}\r\n                />\r\n              </div>\r\n\r\n              <p style={{ textAlign: \"center\", color: \"red\" }}>\r\n                {this.props.result}\r\n              </p>\r\n\r\n              <div className=\"login100-form-social flex-c-m\">\r\n                <a\r\n                  style={{\r\n                    padding: \"2%\",\r\n                    backgroundColor: \"#3b5998\",\r\n                    cursor: \"pointer\"\r\n                  }}\r\n                  onClick={() => this.props.loginWithFacebook()}\r\n                  className=\"login100-form-social-item flex-c-m bg1 m-r-5\"\r\n                >\r\n                  <i\r\n                    style={{ color: \"white\" }}\r\n                    className=\"fa fa-facebook-f\"\r\n                    aria-hidden=\"true\"\r\n                  />\r\n                </a>\r\n              </div>\r\n\r\n              <div className=\"row\">\r\n                <Link href=\"/Cadastro\">\r\n                  <a style={{ textAlign: \"center\" }}>\r\n                    ainda n√£o possui um cadastro?\r\n                  </a>\r\n                </Link>\r\n              </div>\r\n\r\n              <button onClick={this.handleShow.bind(this)}>Abrir</button>\r\n\r\n              <button className=\"btn btn-info\" onClick={() => this._entrar()}>\r\n                Entrar\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </Template>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    mudaEmail: bindActionCreators(mudaEmail, dispatch),\r\n    mudaSenha: bindActionCreators(mudaSenha, dispatch),\r\n    entrar: bindActionCreators(entrar, dispatch),\r\n    loginWithFacebook: bindActionCreators(loginWithFacebook, dispatch),\r\n    mudaNickName: bindActionCreators(mudaNickName, dispatch),\r\n    temApelido: bindActionCreators(temApelido, dispatch),\r\n  };\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n  console.log(\"state.main\", state.UserReducer.show);\r\n  return {\r\n    email: state.UserReducer.email,\r\n    password: state.UserReducer.password,\r\n    result: state.UserReducer.result,\r\n    show: state.UserReducer.show\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Login);\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AASA;AACA;AACA;AACA;AACA;AACA;;;;;;;AACA;AAAA;AAAA;AACA;AAEA;AACA;;;AAEA;AAAA;AACA;AADA;AACA;AAAA;AAEA;AACA;AADA;AAHA;AAMA;AACA;;;AACA;AACA;AAAA;AAAA;AACA;;;AAEA;AACA;AAAA;AAAA;AACA;;;AAEA;AAEA;AACA;AACA;AACA;AACA;;;AAEA;;;AAEA;AACA;AACA;AACA;AACA;AAHA;AAMA;AACA;;;AAEA;AAAA;AACA;AAAA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAHA;AAKA;AAAA;AAAA;AACA;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AAAA;AAAA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;;;;AA5IA;AACA;AA8IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}